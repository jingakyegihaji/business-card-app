<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Business Card App (MVP)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background:#f6f7fb; }
    .wrap { max-width: 1100px; margin: 24px auto; padding: 16px; }
    h1 { margin: 0 0 12px; }
    .grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 16px; }
    .card { background:#fff; border-radius: 12px; padding: 14px; box-shadow: 0 2px 10px rgba(0,0,0,.06); }

    .templates { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    .tpl { border: 2px solid transparent; border-radius: 10px; padding: 8px; cursor: pointer; background:#fafafa; }
    .tpl.selected { border-color:#6d5efc; background:#f1efff; }
    .tpl .img { height: 80px; border-radius: 8px; background: #ddd; background-size: cover; background-position: center; }

    label { display:block; margin: 10px 0 6px; font-size: 13px; color:#333; }
    input { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #ddd; }

    .preview{
      width:100%;
      aspect-ratio: 90 / 50;     /* ëª…í•¨ ë¹„ìœ¨ */
      border-radius:12px;
      background:#111;
      position:relative;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,.12);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .field{
      position:absolute;
      transform: translate(0, -50%);
      white-space: nowrap;
      color:#fff;
      text-shadow: 0 2px 6px rgba(0,0,0,.35);
    }

    .hint { font-size: 12px; color:#666; margin-top: 8px; line-height: 1.4; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ëª…í•¨ ì£¼ë¬¸ MVP</h1>

    <div class="grid">
      <div class="card">
        <h3 style="margin:0 0 10px;">1) í…œí”Œë¦¿ ì„ íƒ</h3>
        <div class="templates" id="templates"></div>

        <h3 style="margin:16px 0 10px;">2) ì •ë³´ ì…ë ¥</h3>
        <label>ì´ë¦„</label><input id="name" placeholder="í™ê¸¸ë™" />
        <label>ì§í•¨</label><input id="role" placeholder="Sales Manager" />
        <label>ì „í™”</label><input id="phone" placeholder="010-1234-5678" />
        <label>ì´ë©”ì¼</label><input id="email" placeholder="test@company.com" />

        <div class="hint">
          ì§€ê¸ˆì€ â€œJSON ì¢Œí‘œí˜•â€ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ë°°ì¹˜í•˜ëŠ” ë‹¨ê³„ì•¼.<br/>
          ë‹¤ìŒ ë‹¨ê³„ì—ì„œ íšŒì‚¬ë³„ í•„ë“œ/í°íŠ¸/ë°±ì˜¤í”¼ìŠ¤ê¹Œì§€ í™•ì¥ ê°€ëŠ¥ ğŸ˜„
        </div>
      </div>

      <div class="card">
        <h3 style="margin:0 0 10px;">ë¯¸ë¦¬ë³´ê¸°</h3>
        <div class="preview" id="preview">
          <div class="field" id="f_name">í™ê¸¸ë™</div>
          <div class="field" id="f_role">Sales Manager</div>
          <div class="field" id="f_phone">010-1234-5678</div>
          <div class="field" id="f_email">test@company.com</div>
        </div>
        <div class="hint">
          í…œí”Œë¦¿ ì„ íƒ/ì…ë ¥ê°’ ë³€ê²½ì´ ì¦‰ì‹œ ë°˜ì˜ë˜ë©´ ì„±ê³µ.
        </div>
      </div>
    </div>
  </div>

  <script>
    // 1) í…œí”Œë¦¿ ì´ë¯¸ì§€ ëª©ë¡(ì¸ë„¤ì¼/ë°°ê²½ì— ê³µí†µ ì‚¬ìš©)
    const tplData = [
      { id: "tpl1", name: "Template 1", img: "/templates/tpl1.png" },
      { id: "tpl2", name: "Template 2", img: "/templates/tpl2.png" },
      { id: "tpl3", name: "Template 3", img: "/templates/tpl3.png" }
    ];

    // 2) JSON ì¢Œí‘œ í…œí”Œë¦¿ ì„¤ì •(ì¼ë‹¨ tpl1ë§Œ ì˜ˆì‹œë¡œ; tpl2/tpl3ëŠ” ë³µë¶™í•´ì„œ ì¢Œí‘œë§Œ ë°”ê¾¸ë©´ ë¨)
    const templateConfig = {
      templates: [
        {
          id: "tpl1",
          background: "/templates/tpl1.png",
          fields: {
            name:  { xPct: 8,  yPct: 68, fontSize: 18, fontWeight: 700, color: "#ffffff" },
            role:  { xPct: 8,  yPct: 80, fontSize: 12, fontWeight: 400, color: "#ffffff" },
            phone: { xPct: 8,  yPct: 92, fontSize: 11, fontWeight: 400, color: "#ffffff" },
            email: { xPct: 92, yPct: 92, fontSize: 11, fontWeight: 400, color: "#ffffff", align: "right" }
          }
        },
        {
          id: "tpl2",
          background: "/templates/tpl2.png",
          fields: {
            name:  { xPct: 10, yPct: 30, fontSize: 18, fontWeight: 700, color: "#ffffff" },
            role:  { xPct: 10, yPct: 42, fontSize: 12, fontWeight: 400, color: "#ffffff" },
            phone: { xPct: 10, yPct: 80, fontSize: 11, fontWeight: 400, color: "#ffffff" },
            email: { xPct: 10, yPct: 90, fontSize: 11, fontWeight: 400, color: "#ffffff" }
          }
        },
        {
          id: "tpl3",
          background: "/templates/tpl3.png",
          fields: {
            name:  { xPct: 60, yPct: 30, fontSize: 18, fontWeight: 700, color: "#ffffff", align: "right" },
            role:  { xPct: 60, yPct: 42, fontSize: 12, fontWeight: 400, color: "#ffffff", align: "right" },
            phone: { xPct: 60, yPct: 80, fontSize: 11, fontWeight: 400, color: "#ffffff", align: "right" },
            email: { xPct: 60, yPct: 90, fontSize: 11, fontWeight: 400, color: "#ffffff", align: "right" }
          }
        }
      ]
    };

    const templatesEl = document.getElementById("templates");
    const previewEl = document.getElementById("preview");
    let selected = "tpl1";

    function applyTemplate(templateId){
      const t = templateConfig.templates.find(x => x.id === templateId);
      if(!t) return;

      // ë°°ê²½
      previewEl.style.backgroundImage = `url(${t.background})`;

      // í•„ë“œ
      const map = { name:"f_name", role:"f_role", phone:"f_phone", email:"f_email" };
      Object.entries(t.fields).forEach(([key, cfg]) => {
        const el = document.getElementById(map[key]);
        if(!el) return;

        el.style.left = (cfg.xPct ?? 0) + "%";
        el.style.top  = (cfg.yPct ?? 0) + "%";
        el.style.fontSize = (cfg.fontSize ?? 12) + "px";
        el.style.fontWeight = (cfg.fontWeight ?? 400);
        el.style.color = (cfg.color ?? "#fff");

        if(cfg.align === "right"){
          el.style.transform = "translate(-100%, -50%)";
          el.style.textAlign = "right";
        } else {
          el.style.transform = "translate(0, -50%)";
          el.style.textAlign = "left";
        }
      });
    }

    function renderTemplates(){
      templatesEl.innerHTML = "";
      tplData.forEach(t => {
        const div = document.createElement("div");
        div.className = "tpl" + (t.id === selected ? " selected" : "");
        div.innerHTML = `
          <div class="img" style="background-image:url(${t.img});"></div>
          <div style="margin-top:6px;font-size:12px;">${t.name}</div>
        `;
        div.onclick = () => {
          selected = t.id;
          applyTemplate(selected);
          renderTemplates();
        };
        templatesEl.appendChild(div);
      });
    }

    function setText(id, fallback, value){
      const el = document.getElementById(id);
      if(!el) return;
      el.textContent = value || fallback;
    }

    // ì…ë ¥ ì´ë²¤íŠ¸
    document.getElementById("name").addEventListener("input", e => setText("f_name","í™ê¸¸ë™", e.target.value));
    document.getElementById("role").addEventListener("input", e => setText("f_role","Sales Manager", e.target.value));
    document.getElementById("phone").addEventListener("input", e => setText("f_phone","010-1234-5678", e.target.value));
    document.getElementById("email").addEventListener("input", e => setText("f_email","test@company.com", e.target.value));

    // ì´ˆê¸° ë Œë”
    renderTemplates();
    applyTemplate(selected);
  </script>
</body>
</html>
